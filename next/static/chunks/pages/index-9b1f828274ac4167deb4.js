(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4120:function(e,r,t){"use strict";var n=t(9008),a=t(5057),s=t.n(a),o=t(5893);r.Z=function(e){var r=e.title,t=e.page,a=e.className,i=e.children;return(0,o.jsxs)("div",{className:s().container,children:[(0,o.jsxs)(n.default,{children:[(0,o.jsxs)("title",{children:["Updater | ",t]}),(0,o.jsx)("meta",{name:"description",content:"Address form page ".concat(t)}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsxs)("main",{className:s().main,children:[(0,o.jsx)("h2",{className:s().description,children:r}),(0,o.jsx)("div",{className:a,children:i})]})]})}},9039:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return k}});var n,a=t(5861),s=t(7757),o=t.n(s),i=t(1163),l=t(7294),c=t(6064),d=t(168),u=(0,t(285).ZP)(n||(n=(0,d.Z)(["\n  query normalizeAddress($address: AddressInput!){\n    normalizedAddress(input: $address){\n      normalizedAddress {\n        city\n        state\n        street\n        unit\n        postalCode\n      }\n    }\n  }\n"]))),p=t(9398),f=t(4035),v=t(4051),h=t(1555),m=t(3754),j=t(4120),y=t(5893),x=function(e){var r=e.field,t=e.value,n=e.validator,a=e.errors,s=e.placeholder,o=(0,l.useContext)(c.Z),i=(o[0],o[1]);return(0,y.jsxs)(f.Z.Group,{className:"mb-4",controlId:r,children:[(0,y.jsx)(f.Z.Control,{onChange:function(e){return function(e,r){n(e,r),i({type:e,payload:r})}(r,e.target.value)},value:t,isInvalid:!!a[r],className:"p-3",type:"text",placeholder:s}),(0,y.jsx)(f.Z.Control.Feedback,{type:"invalid",children:a[r]})]})},b=function(e){var r=e.field,t=e.options,n=e.value,a=e.validator,s=e.errors,o=e.placeholder,i=(0,l.useContext)(c.Z),d=(i[0],i[1]);return(0,y.jsxs)(f.Z.Group,{className:"mb-4",controlId:r,children:[(0,y.jsxs)(f.Z.Control,{as:"select",onChange:function(e){return function(e,r){a(e,r),d({type:e,payload:r})}(r,e.target.value)},value:n,isInvalid:!!s[r],className:"p-3",type:"select",children:[(0,y.jsx)("option",{disabled:!0,value:"",children:o}),t.map((function(e){return(0,y.jsx)("option",{value:e,children:e},e)}))]}),(0,y.jsx)(f.Z.Control.Feedback,{type:"invalid",children:s[r]})]})},N=t(4942);function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){(0,N.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var A=["--","AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MP","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UM","UT","VA","VI","VT","WA","WI","WV","WY"],_=function(e,r){for(var t in e)if(e[t]!==r[t])return!1;return!0},Z=function(e,r,t,n){var a;switch(e){case"street":a=r.length<4?"Mock validation: len > 3":"";break;case"state":a=r&&"--"!==r?"":"Must contain a value";break;case"city":a=r.length<4?"Mock validation: len > 3":"";break;case"postalCode":a=r.match(/(?:^|\D)(\d{5})(?!\d)/g)?"":"Must be 5 digits";break;default:a=""}n(O(O({},t),{},(0,N.Z)({},e,a)))},I=t(4473),g=t.n(I),k=(0,p.C)((function(e){var r=e.client,t=(0,i.useRouter)(),n=(0,l.useState)({street:"",state:"",city:"",postalCode:""}),s=n[0],d=n[1],p=(0,l.useContext)(c.Z),N=p[0],C=p[1],O=N.formInput.address,I=O.street,k=O.unit,M=O.city,P=O.state,E=O.postalCode,w=function(e,r){Z(e,r,s,d)},T=function(){var e=(0,a.Z)(o().mark((function e(){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.query({query:u,variables:{address:N.formInput.address}});case 2:n=e.sent,a=n.data,s=a.normalizedAddress.normalizedAddress,_(N.formInput.address,s)?(C({type:"selectAddress",payload:"formInput"}),t.push("/confirm")):(C({type:"setNormalized",payload:s}),t.push("/choose"));case 5:case"end":return e.stop()}var s}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsx)(j.Z,{title:"What address are you moving FROM?",page:"1",className:g().form,children:(0,y.jsxs)(f.Z,{children:[(0,y.jsx)(x,{field:"street",value:I,validator:w,errors:s,placeholder:"STREET ADDRESS"}),(0,y.jsx)(x,{field:"unit",value:k,validator:w,errors:s,placeholder:"APARTMENT"}),(0,y.jsx)(x,{field:"city",value:M,validator:w,errors:s,placeholder:"CITY"}),(0,y.jsxs)(v.Z,{children:[(0,y.jsx)(h.Z,{children:(0,y.jsx)(b,{field:"state",options:A,value:P,validator:w,errors:s,placeholder:"STATE"})}),(0,y.jsx)(h.Z,{children:(0,y.jsx)(x,{field:"postalCode",value:E,validator:w,errors:s,placeholder:"ZIP"})})]}),(0,y.jsx)(m.Z,{onClick:T,disabled:[I,M,P,E].includes("")||Object.values(s).find((function(e){return!!e})),className:"p-3",variant:"primary",type:"button",children:"Next"})]})})}))},8581:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9039)}])},4473:function(e){e.exports={form:"styles_form__23_Z8"}},5057:function(e){e.exports={container:"layout_container__1LfYE",main:"layout_main__7PkzU",description:"layout_description__3pCmU"}}},function(e){e.O(0,[774,95,888,179],(function(){return r=8581,e(e.s=r);var r}));var r=e.O();_N_E=r}]);